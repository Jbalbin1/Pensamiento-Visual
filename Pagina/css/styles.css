:root{ --bg:#0b1020; --ink:#eef3ff; --panel:#11162a; --muted:#96a0c8; }
*{ box-sizing:border-box }
html,body{ height:100% }
body{ margin:0; background:#0b1020; color:var(--ink); font:16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

.topbar{ 
    display:flex; 
    align-items:center; 
    gap: 12px; 
    padding:12px 16px; 
    border-bottom:1px solid #1a2444; 
    background:#0d1430; 
    position:sticky; 
    top:0; 
}

/*PANEL*/
.panel{ 
    background:var(--panel); 
    gap: 12px; 
    border:1px solid #1b2747; 
    border-radius:14px; 
    overflow:hidden; 


}
.panel:first-of-type .stage {
    height: 110vh; 
}

.panel:first-of-type {
  margin-bottom: 50px;
}

.panel h2{ margin:12px 14px; font-size:14px; color:#cbd6ff; }
.stage{ height:560px; padding:8px; }
svg{ width:100%; height:100%; }
@media (max-width:1024px){ .grid{ grid-template-columns:1fr } .stage{ height:420px } }
.region { stroke:#0b1739; stroke-width:1; }


.controls label {
  font-size: 25px;
  font-weight: 500;
}

.controls select {
  font-size: 18px;
  padding: 10px 16px;
  border-radius: 8px;
  border: 2px solid #3b4a7a;
  background-color: #1b2547;
  color: var(--ink);
  cursor: pointer;
  transition: 0.2s;
}

.controls select:hover {
  background-color: #243566;
}

#satisfaccion{
    text-align: center;
    font-size: 80px;
}

#definicion{
    text-align: center;
    font-size: 60px;
}

#DelitosVIFSatisfacción{
    display:flex; 
    align-items:center;
    gap:12px; 
    padding:12px 16px; 
    border-bottom:1px solid #1a2444; 
    background:#0d1430; 
    position:sticky; 
    top:0;
}

#MapaRegion h2,
#Mapaburbujas h2 {
  font-size: 48px;   
  text-align: center;
  color: #e5ebff;      
  margin: 25px 50px;

}

 
.grid.detail-open .panel-map .stage{
  padding-left: 0;
  padding-right: 8px;
}



.grid.detail-open #mapSvg{
  transform: translateX(-10px); /* pega el mapa al margen izquierdo */
}





.detail-box {
  background: #243566;           /* azul más claro */
  border: 1px solid #2e3f73;
  border-radius: 12px;
  padding: 16px 18px;
  margin: 8px 14px 16px;         /* separa del título y del SVG de burbujas */
  display: none;                  /* controlado por [hidden] */
  min-height: 220px;              /* puedes subirlo si quieres más alto */
}
.detail-box:not([hidden]) {
  display: block;
}


/* Títulos y botón del recuadro */
.detail-box h3 {
  margin: 0 0 8px 0;
  color: #e5ebff;
  font-size: 22px;
}
.detail-box p {
  margin: 0 0 14px 0;
  color: #cbd6ff;
}

.close-detail {
  background: #1b2547;
  color: var(--ink);
  border: 1px solid #3b4a7a;
  border-radius: 8px;
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
}
.close-detail:hover {
  background: #2a3a6f;
}

.panel-map    { grid-area: map; }
.panel-detail { grid-area: detail; }
.panel-bubbles{ grid-area: bubbles; }
/* === Estado SIN detalle abierto: 1 columna y mapa centrado === */
.grid{
  display: grid;
  grid-template-columns: 1fr;                 /* una sola columna */
  grid-template-areas:
    "map"
    "bubbles";                                /* burbujas abajo */
  gap: 16px;
  padding: 14px;
  align-items: start;
}

/* Oculta el panel de detalle cuando no está abierto */
.grid:not(.detail-open) .panel-detail{
  display: none;
}

/* Centra el mapa cuando no hay detalle abierto */
.grid:not(.detail-open) .panel-map .stage{
  display: flex;
  justify-content: center;
  align-items: center;
}

/* (Opcional) limita el ancho máximo del SVG centrado */
.grid:not(.detail-open) #mapSvg{
  max-width: 1100px; /* ajusta a gusto */
  width: 100%;
  height: 100%;
  transform:none;
}

/* === Estado CON detalle abierto: vuelves a 2 columnas como ya tienes === */
.grid.detail-open{
  grid-template-columns: 0.95fr 1.05fr;  
  grid-template-areas:
    "map detail"
    "bubbles bubbles";
}
