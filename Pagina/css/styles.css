:root{
  --bg:#0b1020; --ink:#eef3ff; --panel:#11162a; --muted:#96a0c8;
  --pink1:#ff5ea8; --pink2:#ff3f8e; --pinkGlow: rgba(255, 98, 172, .45);
}

/* Escala general (tu preferencia) */
html{ zoom:110%; scroll-behavior:smooth; }
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; background:var(--bg); color:var(--ink);
  font:16px/1.4 system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
}

/* ====== TOP BAR ====== */
.topbar{
  position:fixed; top:0; left:0; width:100%; z-index:1000;
  display:flex; align-items:center; justify-content:center; gap:28px;
  padding:14px 20px;
  background: linear-gradient(180deg, rgba(13,20,48,.86), rgba(13,20,48,.70));
  backdrop-filter:saturate(140%) blur(8px);
  -webkit-backdrop-filter:saturate(140%) blur(8px);
  border-bottom:1px solid rgba(26,36,68,.65);
  box-shadow:0 6px 18px rgba(0,0,0,.35);
}
body{ padding-top:80px; } /* compensa topbar */

.nav{
  width:100%; display:flex; justify-content:center; align-items:center;
  gap:18px; flex-wrap:wrap; position:relative; padding-right:260px;
}
.nav-left{ display:flex; gap:32px; flex-wrap:wrap; }

.btn{
  position:relative; display:inline-flex; align-items:center; justify-content:center;
  padding:10px 18px; border-radius:999px; border:1px solid #31437a;
  background:linear-gradient(180deg,#1b2547,#172140);
  color:var(--ink); text-decoration:none; letter-spacing:.2px;
  font-size:16px; outline:0;
  transition:transform .08s, box-shadow .2s, background .2s, border-color .2s;
  box-shadow:0 6px 16px rgba(9,14,30,.25), inset 0 1px 0 rgba(255,255,255,.03);
}
.btn:hover{
  background:linear-gradient(180deg,#243566,#1b274d);
  border-color:#3c56a0; box-shadow:0 10px 22px rgba(9,14,30,.35), inset 0 1px 0 rgba(255,255,255,.05);
}
.btn:active{ transform:translateY(1px) }
.btn.is-active{
  border-color:#8aa2ff;
  background:linear-gradient(180deg,#2b3b7a,#223169);
  box-shadow:0 0 0 2px rgba(138,162,255,.18), 0 10px 26px rgba(9,14,30,.45);
}
.btn.is-active::after{
  content:""; position:absolute; left:16px; right:16px; bottom:-6px; height:3px; border-radius:3px;
  background:linear-gradient(90deg,#90a7ff,#5d82ff);
}
.btn-help{
  background:linear-gradient(180deg,var(--pink1),var(--pink2));
  border-color:#ffc6e0; color:#fff;
  position:absolute; right:40px; top:50%; transform:translateY(-50%);
  box-shadow:0 8px 24px var(--pinkGlow), inset 0 1px 0 rgba(255,255,255,.15);
}
.btn-help:hover{
  background:linear-gradient(180deg,#ff77b5,#ff4f98);
  transform:translateY(-52%) scale(1.05);
  box-shadow:0 12px 32px var(--pinkGlow), 0 0 0 2px rgba(255,170,210,.35) inset;
}

/* ====== INICIO (como en tu diseño anterior) ====== */
.section{ padding:32px 18px; }

/* Hero ancho completo con imagen oscurecida y tipografías grandes */
#inicio.section.hero{
  width:100vw; position:relative; left:50%; right:50%;
  margin-left:-50vw; margin-right:-50vw;
  background:#0b1020; padding:100px 8vw 60px;
}
.hero-bg img{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; filter:brightness(.4);
}
.hero-overlay{ position:absolute; inset:0;
  background:linear-gradient(0deg, rgba(255,94,168,.15) 0%, rgba(11,16,32,.7) 100%);
}
.hero-content{ position:relative; z-index:2; width:min(1100px,92vw); margin:0 auto; }
.hero-layer h1{
  font-size: clamp(48px, 7vw, 96px);
  font-weight: 800; line-height:1.05; margin:0 0 24px;
  text-shadow:0 0 20px rgba(255,94,168,.35);
}
.hero-layer .highlight{ color:#ff5ea8; }
.hero-layer p{
  font-size: clamp(18px, 2.1vw, 22px);
  line-height:1.7; color:#dbe3ff; margin:0 0 12px;
}
/* Bloque “¿Qué es…?” justo después, grande */
#inicio h2{
  font-size: clamp(32px, 3.6vw, 48px);
  margin: 24px 0 8px; color:#e5ebff;
}

/* ====== CONTROLES AÑO ====== */
#DelitosVIFSatisfacción{
  display:flex; align-items:center; gap:12px;
  padding:12px 16px; border-bottom:1px solid #1a2444;
  background:#0d1430; position:sticky; top:0; z-index:5;
  font-size:15px;
}
.controls label{ font-size:18px; font-weight:500; }
.controls select{
  font-size:18px; padding:10px 16px; border-radius:8px;
  border:2px solid #3b4a7a; background:#1b2547; color:var(--ink); cursor:pointer; transition:.2s;
}
.controls select:hover{ background:#243566; }

/* ====== GRID PRINCIPAL ====== */
.grid{
  display:grid; gap:16px; padding:20px; align-items:start;
}
.panel{
  background:var(--panel); border:1px solid #1b2747; border-radius:14px;
  overflow:hidden; gap:12px;
}
.panel h2{
  margin:20px 14px 0; font-size:48px; color:#e5ebff; text-align:center;
}
.stage{ height:560px; padding:8px; }

/* ——— SVG: REGLAS CORRECTAS ———
   Solo los SVG grandes llenan su contenedor */
#mapSvg, #mapSvgL, #mapSvgR, #gridSvg{
  width:100%; height:100%;
}
.region{ stroke:#0b1739; stroke-width:1; transition:opacity .25s, filter .25s; cursor:pointer; }
#mapSvg, #mapSvgL, #mapSvgR{
  width: 100%;
  height: 100%;
}
.region.hover{ filter: drop-shadow(0 0 12px var(--pinkGlow)); }

/* Modo comparar */
.stage-compare{
  display:grid; grid-template-columns:1fr 1fr; gap:14px; padding:8px;
}
.compare-pane{ position:relative; background:transparent; }
.map-subtitle{
  position:absolute; top:8px; left:10px; padding:6px 10px; border-radius:10px; font-size:22px;
  background:#0f1a3a; color:#e5ebff; border:1px solid #2e3f73; pointer-events:none;
}
#singleStage, #compareStage{ transition:opacity .25s ease; }
#singleStage[hidden], #compareStage[hidden]{ opacity:0; }

/* ===== Alturas separadas del BOX (contenedores) ===== */

/* Modo 1 mapa (el DIV con id="singleStage", que también tiene class="stage") */
#singleStage {
  height: 85vh !important;   /* ajústalo a gusto (p.ej. 68–78) */
}

/* Modo comparar (el DIV con id="compareStage", class="stage-compare") */
#compareStage.stage-compare {
  height: 90vh !important;   /* ajústalo a gusto; era 120vh */
}

/* Los SVG SIEMPRE llenan su contenedor (no fijamos vh aquí) */
#mapSvg, #mapSvgL, #mapSvgR {
  width: 100% !important;
  height: 100% !important;
  display: block;
}

/* (opcional) evita recortes dentro del panel del mapa único */
.panel:first-of-type { overflow: visible; }


/* 2) El mapa conserva su altura original (no se achica con la box) */
#mapSvg{
  width: 100%;
  display: block;
}

 /* mapa alto */
.panel:first-of-type{ margin-bottom:50px; }

.detail-box{
  background:#243566; 
  border:1px solid #2e3f73; 
  border-radius:12px;
  padding:16px 18px; 
  margin:8px 14px 16px; 
  display:none; 
  min-height:220px; 
  text-align: center;
}
.detail-box:not([hidden]){ display:block; }


/* — Fix CRÍTICO: mini mapa visible — */
#detailRegionSvg {
  display: block;
  margin: 28px auto 28px;   /* centrado con aire */
  width: 100%;
  height: auto;
  max-width: 560px;         /* << más grande */
  max-height: 420px;        /* << más alto */
  background: transparent;
  /* Nota: NO forzamos aspect-ratio para no distorsionar el SVG */
}

/* Tipos del cuadro y botón */
.panel h1{ text-align:center; margin:14px 0 10px; font-size:32px; width:100%; }
.detail-box h3{ margin:0 0 8px; color:#e5ebff; font-size:22px; }
.detail-box p{ margin:0 0 14px; color:#cbd6ff; }
.close-detail {
  position: absolute;
  top: 16px;
  left: 16px;

  background: #1b2547;
  color: var(--ink);
  border: 1px solid #3b4a7a;
  border-radius: 10px;

  padding: 10px 18px;
  font-size: 16px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 10px;

  transition: background .2s, transform .2s;
}
.close-detail::before {
  content: "←";
  font-size: 18px;
}

.close-detail:hover {
  background: #2a3a6f;
  transform: scale(1.05);
}

/* KPIs */
.kpi-row{ display:grid; grid-template-columns:repeat(3,1fr); gap:18px; margin:14px 0 10px; }
.kpi{
  background:#1e2b54; border:1px solid #2b3a6e; border-radius:20px; padding:14px 20px; text-align:center;
}
.kpi .icon{ font-size:46px; line-height:1; opacity:.95; margin-bottom:4px; }
.kpi .value{ font-size:54px; font-weight:800; letter-spacing:.3px; line-height:1.05; }
.kpi .sub{ font-size:18px; color:#e1e7ff; margin-top:6px; }
.kpi .rank{ font-size:20px; color:#a9bcff; margin-top:4px; }

/* Tarjetas dentro del detalle */
.cards-2{ display:grid; grid-template-columns:1fr 1fr; gap:14px; margin-top:8px; }
.card{ background:#1b274d; border:1px solid #2b3a6e; border-radius:12px; padding:12px 14px; }
.card h4{ margin:0 0 8px; color:#e5ebff; font-size:20px; text-align: "start";}
.pill{
  display:flex; justify-content:space-between; align-items:center; gap:8px;
  background:#0f1a3a; border:1px solid #2b3a6e; border-radius:999px; padding:8px 12px; margin-bottom:8px;
}
.pill span{ color:#cbd6ff; font-size:16px; }
.pill strong{ font-size:18px; }
.bullets{ margin:8px 0 0; padding-left:20px; }
.bullets li{ margin:4px 0; }

/* ====== BURBUJAS ====== */
#BurbujasGrilla + .stage{ height:1300px; } /* como tenías */
.panel-bubbles .stage{ display:block; width:100%; }

/* ====== GRID: comportamiento al abrir/cerrar detalle ====== */
.grid:not(.detail-open) .panel-detail{ display:none; }  /* oculto el popup cerrado */

.grid.detail-open{
  grid-template-columns:0.95fr 1.05fr;
  grid-auto-rows:auto;
}
.grid > :not(.panel){ grid-column:1 / -1; } /* elementos no-panel a todo el ancho */
.grid.detail-open > .panel:first-of-type{ grid-column:1; grid-row:1; }     /* mapa izq */
.grid.detail-open > .panel.panel-detail{ grid-column:2; grid-row:1; }     /* detalle der */
.grid.detail-open > .panel.panel-bubbles{ grid-column:1 / -1; grid-row:2; }/* burbujas abajo */

/* Micro-animación al abrir detalle (solo el mapa) */
.grid.detail-open #mapSvg{ transition:transform 420ms ease; transform:translateX(-18px) scale(.96); }

/* ====== MOTIVACIÓN (tu diseño: centrado, 5 tarjetas) ====== */
#motivacion.section.motivation{
  width:100vw; position:relative; left:50%; right:50%;
  margin-left:-50vw; margin-right:-50vw;
  background:#0b1020; padding:60px 6vw 100px;
}
#motivacion .container{ width:min(1100px,92vw); margin:0 auto; }
#motivacion h2{
  font-size: clamp(40px, 5vw, 64px);
  margin: 0 0 24px; color:#e5ebff; text-align:left;
}
.tips{
  display:grid; gap:18px;
  grid-template-columns:repeat(5, minmax(160px,1fr));
}
.tip{
  background:#11162a; border:1px solid #1b2747; border-radius:14px; padding:18px;
  color:#cfd8ff;
}
.tip h3{ margin:0 0 8px; font-size:20px; color:#cfd8ff; }
.tip p{ margin:0; font-size:16px; line-height:1.55; color:#bfc8f8; }
.cta-row{ margin-top:24px; text-align:center; }
.cta-text{ font-size: clamp(18px, 2.2vw, 24px); }

@media (max-width:1200px){
  .tips{ grid-template-columns:repeat(3, minmax(0,1fr)); }
}
@media (max-width:900px){
  .tips{ grid-template-columns:1fr; }
  .btn{ font-size:15px; padding:9px 14px; }
  .topbar{ gap:16px; padding:12px; }
  .kpi-row{ grid-template-columns:1fr 1fr; gap:12px; }
  #motivacion h2{ text-align:center; }
}

/* Leyenda del mapa (si la tienes) */
#legend text{ fill:#cbd6ff }

/* Capa de vuelo (si la usas) */
#flyLayer{ position:fixed; inset:0; pointer-events:none; z-index:999; }
#flyLayer svg{ position:absolute; left:0; top:0; overflow:visible; }
.fly-shape{ will-change:transform, opacity; transition:transform 560ms cubic-bezier(.22,.61,.36,1), opacity 240ms ease; }


/* =========================================================
   1) TOPBAR: botones más grandes
   ========================================================= */
.topbar { padding: 18px 26px; }
.topbar .btn{
  font-size: clamp(25px, 2.1vw, 24px);
  padding: 20px 24px;
  border-width: 2px;
}
.topbar .btn-help{
  padding: 20px 28px;
}

/* =========================================================
   2) INICIO: cajas rosadas para las dos frases
   (usa tus p de .layer2 y .layer3, sin tocar el HTML)
   ========================================================= */
.hero .layer2 p,
.hero .layer3 p{
  display: inline-block;
  margin: 10px auto;
  padding: 18px 24px;
  max-width: 900px;

  border: 2px solid var(--pink1);
  border-radius: 16px;
  background: rgba(17,22,42,.55);
  box-shadow:
    0 0 0 2px rgba(255,94,168,.15) inset,
    0 10px 28px var(--pinkGlow);
}

/* =========================================================
   3) INICIO: centrar todo el texto
   ========================================================= */
#inicio .hero-content{
  text-align: center;
  justify-items: center;   /* centra los “bloques” del grid */
}
#inicio h1, #inicio h2, #inicio p{
  margin-left: auto;
  margin-right: auto;
}

/* (por si algún estilo heredado los empuja a la izquierda) */
.hero .layer2, .hero .layer3, .hero .layer4{ justify-self: center; }

/* =========================================================
   4) MOTIVACIÓN: tipografía más grande (mismo layout de 5 tarjetas)
   ========================================================= */
#motivacion{
  padding-top: 120px;
  padding-bottom: 120px;
}
#motivacion h2{
  font-size: clamp(56px, 6vw, 90px);
  line-height: 1.08;
  text-align: center;
  margin-bottom: 48px;
}
#motivacion .tips{
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 22px;
  justify-items: center;         /* centra cada tarjeta en su columna */
}
#motivacion .tip{
  padding: 22px 22px;
  border-radius: 14px;
  max-width: 360px;              /* mantiene el look de “tarjeta” */
  text-align: left;              /* igual que antes dentro de la tarjeta */
}
#motivacion .tip h3{
  font-size: clamp(22px, 2.4vw, 28px);
  line-height: 1.25;
}
#motivacion .tip p{
  font-size: clamp(16px, 1.9vw, 20px);
  line-height: 1.6;
}
#motivacion .cta-text{
  font-size: clamp(28px, 3vw, 40px);
  text-align: center;
  margin-top: 60px;
}



.detail-box { 
  text-align: center; 
  position: relative;
}



/* ====== Burbujas: control de orden (grande) ====== */
#BurbujasGrilla .controls{
  display:flex;
  align-items:center;
  gap:16px;
  margin:10px 18px 0;
}

#BurbujasGrilla .controls label{
  font-size:30px;           /* más grande */
  font-weight:700;          /* más marcado */
  color:#e5ebff;
  letter-spacing:.2px;
}

#BurbujasGrilla .controls select{
  font-size:28px;           /* más grande */
  padding:12px 18px;        /* más alto/ancho */
  border-radius:12px;
  border:2px solid #3b4a7a; /* mismo estilo que tus selects */
  background:#1b2547;
  color:var(--ink);
  cursor:pointer;
  transition:.2s;
}

#BurbujasGrilla .controls select:hover{
  background:#243566;
}


/* =========================
   INICIO — tamaños XL
   ========================= */
#inicio.section.hero{
  padding: 140px 8vw 80px;                    /* más aire */
}
#inicio .hero-content{
  width: min(1400px, 94vw);                   /* contenedor más ancho */
}

.hero-layer h1{
  font-size: clamp(72px, 9vw, 140px);         /* TÍTULO gigante */
  line-height: 1.03;
  margin-bottom: 28px;
}

.hero-layer p{
  font-size: clamp(22px, 2.6vw, 28px);        /* párrafos más grandes */
  line-height: 1.8;
}

/* “¿Qué es la satisfacción…?” */
#inicio h2{
  font-size: clamp(48px, 5vw, 72px);          /* subtítulo bien grande */
  margin-top: 28px;
}

/* Cajas rosadas (las dos frases) más grandes */
.hero .layer2 p,
.hero .layer3 p{
  padding: 24px 28px;                         /* más padding */
  max-width: 1100px;                          /* caja más ancha */
  font-size: clamp(22px, 2.6vw, 28px);
}

/* =========================
   MOTIVACIÓN — tamaños XL
   ========================= */
#motivacion{
  padding-top: 160px;
  padding-bottom: 160px;
}
#motivacion .container{
  width: min(1300px, 94vw);                   /* área más ancha */
}

#motivacion h2{
  font-size: clamp(72px, 7vw, 110px);         /* título gigante */
  line-height: 1.06;
  margin-bottom: 56px;
}

/* Tarjetas más grandes y con más aire */
#motivacion .tips{
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 28px;
  justify-items: center;
}
#motivacion .tip{
  padding: 28px 28px;
  max-width: 420px;                            /* tarjeta más ancha */
}
#motivacion .tip h3{
  font-size: clamp(28px, 3vw, 36px);
  line-height: 1.22;
}
#motivacion .tip p{
  font-size: clamp(20px, 2.2vw, 24px);
  line-height: 1.65;
}

/* Llamado a la acción más grande */
#motivacion .cta-text{
  font-size: clamp(40px, 4vw, 56px);
  margin-top: 68px;
}

/* =========================
   Ajuste opcional móvil
   (para que no se pase en pantallas chicas)
   ========================= */
@media (max-width: 520px){
  .hero-layer h1{ font-size: clamp(56px, 11vw, 120px); }
  #motivacion h2{ font-size: clamp(56px, 10vw, 90px); }
}

/* ====== Barra "Delitos, Violencia Intra Familiar y Satisfacción" ====== */
#DelitosVIFSatisfacción{
  font-size: unset;            /* anulamos 15px heredados */
  padding: 16px 20px;          /* un poco más alta */
  gap: 18px;
}

#DelitosVIFSatisfacción h1{
  font-size: clamp(25px, 3.2vw, 30px);  /* TÍTULO más grande */
  line-height: 1.1;
  margin: 0;
}

/* Select del año (el "botón" a la derecha) */
#DelitosVIFSatisfacción .controls select{
  font-size: clamp(18px, 2.2vw, 26px);  /* letra grande */
  padding: 14px 20px;                   /* más alto/ancho */
  border-radius: 12px;
  border-width: 2px;
}

/* (si usas label visible ahí) */
#DelitosVIFSatisfacción .controls label{
  font-size: clamp(18px, 2vw, 24px);
  font-weight: 700;
}


/* ====== MOTIVACIÓN: 3 arriba, 2 abajo centradas ====== */
#motivacion .tips{
  display: flex !important;
  flex-wrap: wrap;
  justify-content: center;   /* centra la segunda fila con 2 items */
  gap: 24px !important;
}

/* ancho base de cada tarjeta */
#motivacion .tip{
  flex: 1 1 320px !important;   /* base ~320px, permite wrap limpio */
  max-width: 420px !important;
}

/* En pantallas anchas: exactamente 3 por fila */
@media (min-width: 1100px){
  #motivacion .tip{
    /* 3 columnas exactas considerando 2 gaps de 24px */
    flex: 0 0 calc((100% - 48px) / 3) !important;
  }
}

/* ====== Mensaje final: blanco + súper glow rosado ====== */
#motivacion .cta-text{
  color: #fff !important;
  font-weight: 900 !important;
  letter-spacing: 0.35px;
  text-align: center;
  /* brillo fuerte en capas (fluor) */
  text-shadow:
    0 0 10px var(--pinkGlow),
    0 0 18px var(--pinkGlow),
    0 0 36px rgba(255, 63, 142, .55),
    0 0 64px rgba(255, 63, 142, .45);
  -webkit-text-stroke: 0.5px rgba(255,63,142,.28); /* leve borde rosado */
  /* un poco más grande para llamar la atención */
  font-size: clamp(44px, 4.6vw, 62px) !important;
}

/* Mensaje fijo al lado del mapa */
.help-message {
  position: absolute;
  top: 2050px;
  right: 110px;          /* a la derecha del mapa */
  transform: translateY(-50%);
  background: linear-gradient(135deg, var(--pink1), var(--pink2));
  color: #fff;
  padding: 14px 22px;
  border-radius: 999px;
  font-size: 18px;
  font-weight: 600;
  white-space: nowrap;
  box-shadow: 0 8px 24px var(--pinkGlow);
  z-index: 10;
  transition: opacity .4s ease;
}

.help-message.hidden {
  opacity: 0;
  pointer-events: none;
}

/* Nombres de región sobre las burbujas */
.lbl-region {
  font-size: 20px !important;      /* ← más chica */
  transform: translateY(-8px);     /* ← la aleja un poquito de la burbuja */
}

/* Contenedor flexible: mini-burbuja + detalle */
#BurbujasGrilla {
  display: flex;
  align-items: flex-start;
  gap: 24px;
  margin: 14px 18px 0;
}

/* Mini-burbuja (la región clickeada) */
#miniBubble {
  flex: 0 0 160px;
  height: 160px;
  border-radius: 50%;
  border: 2px solid #ffffff;
  box-shadow: 0 0 20px var(--pinkGlow);
  background: var(--panel);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 22px;
  color: #fff;
  text-align: center;
  line-height: 1.1;
}

.panel-bubbles .stage{ height:1200px; }
.panel.panel-bubbles{ overflow:visible; }
/* antes: 90vh */

